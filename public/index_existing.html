<!DOCTYPE html>
<html>
<head>
    <title>Gym DBMS</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .tabs { margin-top: 20px; }
        .tab-buttons { margin-bottom: 10px; }
        .tab-buttons button {
            margin-right: 5px;
            padding: 8px 15px;
            border: none;
            background: #ddd;
            cursor: pointer;
        }
        .tab-buttons button.active {
            background: #4285f4;
            color: white;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>
    <h1>Apex Gym Management</h1>

    <!-- Login -->
    <div id="loginBox">
        <h2>Login</h2>
        <input id="username" placeholder="Username"><br>
        <input id="password" type="password" placeholder="Password"><br>
        <button onclick="login()">Login</button>
    </div>

    <!-- Main app -->
    <div id="app" style="display:none;">
        <button onclick="logout()">Logout</button>

        <!-- Tabs -->
        <div class="tabs">
            <div class="tab-buttons">
                <button onclick="openTab('registerTab')" class="active">Register Member</button>
                <button onclick="openTab('logVisitTab')">Log Visit</button>
                <button onclick="openTab('viewVisitsTab')">View Visits</button>
            </div>

            <!-- Register Tab -->
            <div id="registerTab" class="tab-content active">
                <h2>Register New Member</h2>
                <input id="full_name" placeholder="Full Name">
                <input id="phone" placeholder="Phone">
                <input id="email" placeholder="Email">
                <select id="gender">
                    <option value="Male" selected>Male</option>
                    <option value="Female">Female</option>
                </select>
                <select id="membership">
                    <option value="None" selected>None</option>
                    <option value="Weekly">Weekly</option>
                    <option value="Monthly">Monthly</option>
                </select>
                <button onclick="addUser()">Add</button>
            </div>

	<!-- Log Visit Tab -->
	<div id="logVisitTab" class="tab-content">
    	    <h2>Search Members & Log Visit</h2>
    	    <input id="search" placeholder="Search Members" onkeyup="searchUsers()">
    	    <select id="searchDropdown" onchange="selectUser()"></select>
   	    <select id="amount">
        	<option value="0" selected>0</option>
        	<option value="1000">1000</option>
        	<option value="5000">5000</option>
        	<option value="20000">20000</option>
    	    </select>
    	    <button onclick="logVisit()">Log Visit</button>
	</div>

            <!-- View Visits Tab -->
            <div id="viewVisitsTab" class="tab-content">
                <h2>View Members Visits</h2>
                <input id="start_date" type="date">
                <input id="end_date" type="date">
                <button onclick="loadVisits()">Load Visits</button>
		<button onclick="exportVisitsCSV()">Export to CSV</button>
                <ul id="visitsList"></ul>
                <div id="totals"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        function openTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-buttons button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
